@{
    ViewData["Title"] = "Create User";
    Layout = "_LayoutAdmin";
}
<link rel="stylesheet" type="text/css" href="~/css/table.css"/>
<link rel="stylesheet" type="text/css" href="~/css/backgroundApp.css" />
<body>
    <div class="form">
        <table class="table">
            <tr>
                <td>LastName</td>
                <td>FirstName</td>
                <td>Login</td>
                <td>Password</td>
                <td>Role</td>
                <td>Status</td>
                <td>Department</td>
            </tr>
            @foreach (User user in Model.Users)
            {
                if (user.Department.DepartmentName == "Admins")
                    continue;
                <tr>
                    <td>@user.LastName</td>
                    <td>@user.FirstName</td>
                    <td>@user.Login</td>
                    <td>@user.Password</td>
                    <td>@user.Role.RoleName</td>
                    <td>@user.Status.StatusName</td>
                    <td>@user.Department.DepartmentName</td>
                </tr>
            }
        </table>

        <form method="post" asp-action="CreateUser">
            <div class="text-center">

                <div class="input-form">
                    @if (!ViewData.ModelState.IsValid && ViewData.ModelState["Error"].Errors.Count > 0)
                    {
                        <div class="text-danger">
                            <strong>Error!</strong>
                            <p>@ViewData.ModelState["Error"].Errors.First().ErrorMessage</p>
                        </div>
                    }
                </div>

                <input type="text" name="_lastName" required placeholder="Surname" />
                <input type="text" name="_firstName" required placeholder="Name" />
                <input type="text" name="_login" required placeholder="Login" />
                <input type="text" name="_password" required placeholder="Password" />

                <div class="form-inline">
                    <label class="text-white" for="_roleID">Role:</label>
                    <select name="_roleID">
                        @foreach (Role role in Model.Roles)
                        {
                            if (role.RoleName == "Admin")
                                continue;
                            <option value="@role.ID">@role.RoleName</option>
                        }
                    </select>


                    <label class="text-white" for="_statusID">Status:</label>
                    <select name="_statusID">
                        @foreach (Status status in Model.Statuses)
                        {
                            <option value="@status.ID">@status.StatusName</option>
                        }
                    </select>


                    <label class="text-white" for="_departmentID">Department:</label>
                    <select name="_departmentID">
                        @foreach (Department department in Model.Departments)
                        {
                            if (department.DepartmentName == "Admins")
                                continue;
                            <option value="@department.ID">@department.DepartmentName</option>
                        }
                    </select>
                    <br />
                </div>
                <div>
                    <input type="submit" value="Add" class="btn-success"/>
                </div>

            </div>
        </form>
    </div>
</body>

